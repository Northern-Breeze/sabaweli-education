(this["webpackJsonpsleepy-bear"]=this["webpackJsonpsleepy-bear"]||[]).push([[0],{45:function(e,t,a){},52:function(e,t,a){},53:function(e,t,a){},54:function(e,t,a){},55:function(e,t,a){},74:function(e,t,a){},75:function(e,t,a){},76:function(e,t,a){},84:function(e,t,a){"use strict";a.r(t);var s=a(0),n=a.n(s),c=a(34),r=a.n(c),i=(a(45),a(11)),l=a(3),o=a(35),j=a(36),d=a(40),b=a(39),u=a(1),m=function(e){Object(d.a)(a,e);var t=Object(b.a)(a);function a(){return Object(o.a)(this,a),t.apply(this,arguments)}return Object(j.a)(a,[{key:"render",value:function(){var e=this;return Object(u.jsx)(l.b,{render:function(t){return e.props.isAuthenticated?e.props.component?n.a.createElement(e.props.component):e.props.render?e.props.render(t):void 0:Object(u.jsx)(l.a,{to:"/login"})}})}}]),a}(l.b),p=a(2),h=a.n(p),x=a(6),O=a(4),v=a.p+"static/media/logo.2b2a1468.png";a(52);function f(e){var t=e.children;return Object(u.jsxs)("div",{children:[Object(u.jsxs)("nav",{className:"navbar sleepy-warpper",role:"navigation","aria-label":"main navigation",children:[Object(u.jsxs)("div",{className:"navbar-brand",children:[Object(u.jsx)("div",{className:"navbar-item",children:Object(u.jsx)("img",{src:v,className:"logo",alt:"Sleepybears"})}),Object(u.jsxs)("a",{role:"button",className:"navbar-burger","aria-label":"menu","aria-expanded":"false","data-target":"navbarBasicExample",children:[Object(u.jsx)("span",{"aria-hidden":"true"}),Object(u.jsx)("span",{"aria-hidden":"true"}),Object(u.jsx)("span",{"aria-hidden":"true"})]})]}),Object(u.jsxs)("div",{id:"navbarBasicExample",className:"navbar-menu",children:[Object(u.jsxs)("div",{className:"navbar-start",children:[Object(u.jsx)("a",{className:"navbar-item",children:"How it works?"}),Object(u.jsx)("a",{className:"navbar-item",children:"Pricing"}),Object(u.jsxs)("div",{className:"navbar-item has-dropdown is-hoverable",children:[Object(u.jsx)("a",{className:"navbar-link",children:"More"}),Object(u.jsxs)("div",{className:"navbar-dropdown",children:[Object(u.jsx)("a",{className:"navbar-item",children:"About"}),Object(u.jsx)("a",{className:"navbar-item",children:"Jobs"}),Object(u.jsx)("a",{className:"navbar-item",children:"Contact"}),Object(u.jsx)("hr",{className:"navbar-divider"}),Object(u.jsx)("a",{className:"navbar-item",children:"Report an issue"})]})]})]}),Object(u.jsx)("div",{className:"navbar-end",children:Object(u.jsx)("div",{className:"navbar-item",children:Object(u.jsxs)("div",{className:"buttons",children:[Object(u.jsx)("button",{className:"button",children:"Sign In"}),Object(u.jsx)("button",{className:"button seconday",children:"Sign Up"})]})})})]})]}),t]})}function g(e){var t=e.erroState;return Object(u.jsx)("div",{className:"alerts",children:(null===t||void 0===t?void 0:t.error)?Object(u.jsxs)("div",{className:"notification is-danger is-light",children:[Object(u.jsx)("button",{className:"delete"}),t.message]}):t&&Object(u.jsxs)("div",{className:"notification is-primary",children:[Object(u.jsx)("button",{className:"delete"}),null===t||void 0===t?void 0:t.message]})})}a(53);function N(e){var t=e.fileSize,a=(null===t||void 0===t?void 0:t.filsize)/1e6;return Object(u.jsx)("span",{className:"file-size-limit".concat(a<10?"-green":"-red"),children:" ".concat(a.toFixed(2)," MB")})}a(54),a(55);function w(e){var t=e.fileType,a=t.filetype.split("/");return Object(u.jsx)("span",{className:"file-type".concat("wav"===a[1]?"-green":"-red"),children:t.filetype})}function S(){var e=n.a.useState(),t=Object(O.a)(e,2),a=t[0],s=t[1],c=n.a.useState(!1),r=Object(O.a)(c,2),i=r[0],l=r[1],o=n.a.useState(),j=Object(O.a)(o,2),d=j[0],b=j[1],m=n.a.useState(),p=Object(O.a)(m,2),v=p[0],S=p[1],y=function(){var e=Object(x.a)(h.a.mark((function e(t){var s,n,c,r,i;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),e.prev=1,!a){e.next=17;break}return(s=new FormData).append("file",a),n=localStorage.getItem("token")||"",e.next=8,fetch("http://localhost:5000",{method:"POST",headers:{Authorization:"Bearer ".concat(n)},body:s});case 8:return c=e.sent,e.next=11,c.json();case 11:return r=e.sent,e.next=14,r;case 14:(i=e.sent).success?b({error:!1,message:i.message}):b({error:!0,message:i.message}),console.log(i);case 17:e.next=22;break;case 19:e.prev=19,e.t0=e.catch(1),console.log(e.t0);case 22:case"end":return e.stop()}}),e,null,[[1,19]])})));return function(t){return e.apply(this,arguments)}}();return Object(u.jsxs)(f,{children:[Object(u.jsx)(g,{erroState:d}),Object(u.jsxs)("div",{className:"home-container",children:[i&&Object(u.jsxs)("div",{className:"file-content",children:[Object(u.jsxs)("div",{className:"file",children:["File Name: ",null===v||void 0===v?void 0:v.filename]}),Object(u.jsxs)("div",{className:"file",children:["File Size: ",v&&Object(u.jsx)(N,{fileSize:v})]}),Object(u.jsxs)("div",{className:"file",children:["File Type: ",v&&Object(u.jsx)(w,{fileType:v})]})]}),Object(u.jsx)("div",{className:"content",children:Object(u.jsxs)("form",{className:"form",onSubmit:y,children:[Object(u.jsx)("div",{className:"field",children:Object(u.jsxs)("label",{className:"custom-file-upload",children:[Object(u.jsx)("input",{type:"file",accept:"audio/*",onChange:function(e){var t,a;null!==e.target.files&&(s(null===e||void 0===e||null===(t=e.target)||void 0===t?void 0:t.files[0]),l(!0),S({filename:null===e||void 0===e||null===(a=e.target)||void 0===a?void 0:a.files[0].name,filsize:e.target.files[0].size,filetype:e.target.files[0].type}))}}),Object(u.jsx)("i",{className:"fa fa-cloud-upload"})," Select Audio"]})}),Object(u.jsx)("div",{className:"field",children:Object(u.jsx)("button",{className:"button is-fullwidth upload-btn",type:"submit",children:"Upload"})})]})})]})]})}var y=a(18),k=a(14),E=a.n(k);a(74);function A(){var e=Object(y.a)(),t=e.handleSubmit,a=e.register,s=e.errors,c=n.a.useState(!1),r=Object(O.a)(c,2),o=r[0],j=r[1],d=n.a.useState(),b=Object(O.a)(d,2),m=b[0],p=b[1],v=Object(l.g)(),f=function(){var e=Object(x.a)(h.a.mark((function e(t){var a,s,n,c,r;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,j(!0),a=t.email,s=t.password,e.next=5,E.a.post("http://localhost:5000/v1/login",{email:a,password:s});case 5:return n=e.sent,e.next=8,n.data;case 8:c=e.sent,200===n.status||201===n.status?c.success?(p({error:!1,message:c.message}),r=c.token,localStorage.setItem("token",r),j(!1),v.push("/")):(j(!1),p({error:!0,message:c.message})):200===n.status&&(j(!1),p({error:!0,message:c.message})),j(!1),e.next=18;break;case 13:e.prev=13,e.t0=e.catch(0),j(!1),console.log(e.t0),p({error:!0,message:"something went wrong please try again"});case 18:case"end":return e.stop()}}),e,null,[[0,13]])})));return function(t){return e.apply(this,arguments)}}();return Object(u.jsxs)("div",{className:"login-page",children:[Object(u.jsx)(g,{erroState:m}),Object(u.jsx)("div",{className:"login-container",children:Object(u.jsx)("div",{className:"form-container",children:Object(u.jsxs)("form",{className:"form",onSubmit:t(f),children:[Object(u.jsxs)("div",{className:"field",children:[Object(u.jsx)("label",{className:"label",children:"Email"}),Object(u.jsx)("input",{className:"input",type:"text",name:"email",placeholder:"Enter Email",ref:a({required:!0})}),s.email?Object(u.jsx)("span",{children:s.email.message}):Object(u.jsx)("span",{})]}),Object(u.jsxs)("div",{className:"field",children:[Object(u.jsx)("label",{className:"label",children:"Password"}),Object(u.jsx)("input",{className:"input",type:"password",name:"password",placeholder:"Enter Password",ref:a({required:!0})}),s.password?Object(u.jsx)("span",{children:s.password.message}):Object(u.jsx)("span",{})]}),Object(u.jsx)("div",{className:"field",children:Object(u.jsx)("button",{className:"button",disabled:o,type:"submit",children:o?"Submiting":"Sign In"})}),Object(u.jsx)("div",{className:"footer-items",children:Object(u.jsxs)("span",{children:["Not yet have an account? ",Object(u.jsx)("span",{children:Object(u.jsx)(i.b,{to:"/register",className:"link",children:"Register"})})]})})]})})})]})}function P(){return Object(u.jsx)("div",{children:"Page Not found"})}a(75);function F(){var e=Object(y.a)(),t=e.errors,a=e.handleSubmit,s=e.register,c=n.a.useState(!1),r=Object(O.a)(c,2),o=r[0],j=r[1],d=n.a.useState(),b=Object(O.a)(d,2),m=b[0],p=b[1],v=Object(l.g)(),f=function(){var e=Object(x.a)(h.a.mark((function e(t){var a,s,n,c,r;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,j(!0),a=t.email,s=t.password,n=t.name,e.next=5,E.a.post("http://localhost:5000/v1/register",{email:a,password:s,name:n});case 5:return c=e.sent,e.next=8,c.data;case 8:r=e.sent,200===c.status||201===c.status?r.success?(p({error:!1,message:r.message}),j(!1),v.push("/login")):(j(!1),p({error:!0,message:r.message})):200===c.status&&(j(!1),p({error:!0,message:r.message})),j(!1),e.next=18;break;case 13:e.prev=13,e.t0=e.catch(0),j(!1),console.log(e.t0),p({error:!0,message:"something went wrong please try again"});case 18:case"end":return e.stop()}}),e,null,[[0,13]])})));return function(t){return e.apply(this,arguments)}}();return Object(u.jsxs)("div",{className:"register-page",children:[Object(u.jsx)(g,{erroState:m}),Object(u.jsx)("div",{className:"login-container",children:Object(u.jsx)("div",{className:"form-container",children:Object(u.jsxs)("form",{className:"form",onSubmit:a(f),children:[Object(u.jsxs)("div",{className:"field",children:[Object(u.jsx)("label",{className:"label",children:"Name"}),Object(u.jsx)("input",{className:"input",type:"text",name:"name",placeholder:"Enter Your Name",ref:s({required:!0})}),t.email?Object(u.jsx)("span",{children:t.email.message}):Object(u.jsx)("span",{})]}),Object(u.jsxs)("div",{className:"field",children:[Object(u.jsx)("label",{className:"label",children:"Email"}),Object(u.jsx)("input",{className:"input",type:"text",name:"email",placeholder:"Enter Email",ref:s({required:!0})}),t.email?Object(u.jsx)("span",{children:t.email.message}):Object(u.jsx)("span",{})]}),Object(u.jsxs)("div",{className:"field",children:[Object(u.jsx)("label",{className:"label",children:"Password"}),Object(u.jsx)("input",{className:"input",type:"password",name:"password",placeholder:"Enter Password",ref:s({required:!0})}),t.password?Object(u.jsx)("span",{children:t.password.message}):Object(u.jsx)("span",{})]}),Object(u.jsx)("div",{className:"field",children:Object(u.jsx)("button",{className:"button",type:"submit",disabled:o,children:o?"Submitting":"Sign In"})}),Object(u.jsx)("div",{className:"footer-items",children:Object(u.jsxs)("span",{children:["Already have an account? ",Object(u.jsx)("span",{children:Object(u.jsx)(i.b,{to:"/login",className:"link",children:"login"})})]})})]})})})]})}a(76);function z(){var e=n.a.useState(),t=Object(O.a)(e,2),a=t[0],s=t[1],c=new URLSearchParams(Object(l.h)().search),r=Object(l.g)(),i=function(){var e=Object(x.a)(h.a.mark((function e(t){var a;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,E.a.get("http://localhost:5000/v1/confirm_email/".concat(t));case 3:200===(a=e.sent).status?a.data.success?s({error:!1,message:a.data.message}):s({error:!0,message:a.data.message}):s({error:!0,message:"something went wrong"}),e.next=11;break;case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0),s({error:!0,message:"Server error, please try again"});case 11:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}();return n.a.useEffect((function(){var e=c.get("token");e&&i(e)}),[]),Object(u.jsx)(f,{children:Object(u.jsxs)("div",{className:"verify-page-container",children:[Object(u.jsx)(g,{erroState:a}),Object(u.jsx)("div",{className:"content",children:Object(u.jsx)("div",{className:"button-container",children:Object(u.jsx)("button",{className:"button",onClick:function(){r.push("/login")},children:"Login"})})})]})})}function I(){return Object(u.jsx)(f,{children:"profile"})}function B(){return Object(u.jsx)(i.a,{children:Object(u.jsxs)(l.d,{children:[Object(u.jsx)(m,{exact:!0,path:"/",isAuthenticated:!0,component:S}),Object(u.jsx)(m,{exact:!0,path:"/profile",isAuthenticated:!0,component:I}),Object(u.jsx)(l.b,{exact:!0,path:"/login",component:A}),Object(u.jsx)(l.b,{exact:!0,path:"/register",component:F}),Object(u.jsx)(l.b,{exact:!0,path:"/verify",component:z}),Object(u.jsx)(l.b,{component:P})]})})}var C=a(15),T={UserModel:{name:"",email:"",token:"",isAuth:!1,setAuth:Object(C.action)((function(e,t){e.isAuth=!0})),asyncAuth:Object(C.thunk)((function(e){localStorage.getItem("token")||""?e.setAuth(!0):e.setAuth(!1)}))}},q=Object(C.createStore)(T);var L=function(){return Object(u.jsx)(C.StoreProvider,{store:q,children:Object(u.jsx)(B,{})})},M=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,85)).then((function(t){var a=t.getCLS,s=t.getFID,n=t.getFCP,c=t.getLCP,r=t.getTTFB;a(e),s(e),n(e),c(e),r(e)}))};r.a.render(Object(u.jsx)(n.a.StrictMode,{children:Object(u.jsx)(L,{})}),document.getElementById("root")),M()}},[[84,1,2]]]);
//# sourceMappingURL=main.0303b3a5.chunk.js.map